define(["./buildModuleUrl-8cce5713","./Cartesian4-b0ddc4ba","./Check-7b2a090c","./when-b60132fc","./Math-31e539c2","./ArcType-f8a754c5","./FeatureDetection-ab6f364c","./EllipsoidGeodesic-1bbae6bf","./EllipsoidRhumbLine-3ee4574a","./EncodedCartesian3-ac3717ed","./GeometryAttribute-923c2729","./Plane-5716a082","./WebMercatorProjection-6d3eefcc","./WebGLConstants-aba9fc67"],(function(e,a,t,n,i,r,s,o,l,c,u,h,d,p){"use strict";function C(a){a=n.defaultValue(a,{}),this._ellipsoid=n.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._rectangle=n.defaultValue(a.rectangle,e.Rectangle.MAX_VALUE),this._projection=new e.GeographicProjection(this._ellipsoid),this._numberOfLevelZeroTilesX=n.defaultValue(a.numberOfLevelZeroTilesX,2),this._numberOfLevelZeroTilesY=n.defaultValue(a.numberOfLevelZeroTilesY,1),this._customDPI=a.customDPI,this._scaleDenominators=a.scaleDenominators,this._tileWidth=n.defaultValue(a.tileWidth,256),this._tileHeight=n.defaultValue(a.tileHeight,256),this._beginLevel=n.defaultValue(a.beginLevel,0)}Object.defineProperties(C.prototype,{ellipsoid:{get:function(){return this._ellipsoid}},rectangle:{get:function(){return this._rectangle}},projection:{get:function(){return this._projection}},beginLevel:{get:function(){return this._beginLevel}}}),C.prototype.getNumberOfXTilesAtLevel=function(e){return this._numberOfLevelZeroTilesX<<e-this._beginLevel},C.prototype.getNumberOfYTilesAtLevel=function(e){return this._numberOfLevelZeroTilesY<<e-this._beginLevel},C.prototype.rectangleToNativeRectangle=function(a,t){var r=i.Math3D.toDegrees(a.west),s=i.Math3D.toDegrees(a.south),o=i.Math3D.toDegrees(a.east),l=i.Math3D.toDegrees(a.north);return n.defined(t)?(t.west=r,t.south=s,t.east=o,t.north=l,t):new e.Rectangle(r,s,o,l)},C.prototype.tileXYToNativeRectangle=function(e,a,t,n){var r=this.tileXYToRectangle(e,a,t,n);return r.west=i.Math3D.toDegrees(r.west),r.south=i.Math3D.toDegrees(r.south),r.east=i.Math3D.toDegrees(r.east),r.north=i.Math3D.toDegrees(r.north),r},C.prototype.tileXYToRectangle=function(a,t,r,s){var o=this._rectangle;if(n.defined(this._customDPI)&&n.defined(this._scaleDenominators)){var l=this.calculateResolution(r),c=-i.Math3D.PI+a*this._tileWidth*l.x,u=-i.Math3D.PI+(a+1)*this._tileWidth*l.x,h=i.Math3D.PI_OVER_TWO-t*this._tileHeight*l.y,d=i.Math3D.PI_OVER_TWO-(t+1)*this._tileHeight*l.y;return n.defined(s)?(s.west=c,s.south=d,s.east=u,s.north=h,s):new e.Rectangle(c,d,u,h)}var p=this.getNumberOfXTilesAtLevel(r),C=this.getNumberOfYTilesAtLevel(r),g=o.width/p,f=(c=a*g+o.west,u=(a+1)*g+o.west,o.height/C);h=o.north-t*f,d=o.north-(t+1)*f;return n.defined(s)||(s=new e.Rectangle(c,d,u,h)),s.west=c,s.south=d,s.east=u,s.north=h,s},C.prototype.positionToTileXY=function(a,t,r){var s=this._rectangle;if(e.Rectangle.contains(s,a)){var o=this.getNumberOfXTilesAtLevel(t),l=this.getNumberOfYTilesAtLevel(t),c=s.width/o,u=s.height/l;if(n.defined(this._customDPI)&&n.defined(this._scaleDenominators)){var h=this.calculateResolution(t);c=this._tileWidth*h.x,u=this._tileHeight*h.y}var d=a.longitude;s.east<s.west&&(d+=i.Math3D.TWO_PI);var p=(d-s.west)/c|0;p>=o&&(p=o-1);var C=(s.north-a.latitude)/u|0;return C>=l&&(C=l-1),n.defined(r)?(r.x=p,r.y=C,r):new e.Cartesian2(p,C)}},C.prototype.calculateResolution=function(a){var t=.0254*this._scaleDenominators[a-this._beginLevel]/this._customDPI.x,n=.0254*this._scaleDenominators[a-this._beginLevel]/this._customDPI.y,i=e.Ellipsoid.WGS84.maximumRadius;return new e.Cartesian2(t/i,n/i)};var g=new a.Cartesian3,f=new a.Cartesian3,m=new a.Cartographic,v=new a.Cartesian3,w=new a.Cartesian3,y=new e.BoundingSphere,_=new C,D=[new a.Cartographic,new a.Cartographic,new a.Cartographic,new a.Cartographic],M=new e.Cartesian2,T={};function E(e){a.Cartographic.fromRadians(e.east,e.north,0,D[0]),a.Cartographic.fromRadians(e.west,e.north,0,D[1]),a.Cartographic.fromRadians(e.east,e.south,0,D[2]),a.Cartographic.fromRadians(e.west,e.south,0,D[3]);var t,n=0,i=0,r=0,s=0,o=T._terrainHeightsMaxLevel;for(t=0;t<=o;++t){for(var l=!1,c=0;c<4;++c){var u=D[c];if(_.positionToTileXY(u,t,M),0===c)r=M.x,s=M.y;else if(r!==M.x||s!==M.y){l=!0;break}}if(l)break;n=r,i=s}if(0!==t)return{x:n,y:i,level:t>o?o:t-1}}T.initialize=function(){var a=T._initPromise;return n.defined(a)||(a=e.Resource.fetchJson(e.buildModuleUrl("Assets/approximateTerrainHeights.json")).then((function(e){T._terrainHeights=e})),T._initPromise=a),a},T.getMinimumMaximumHeights=function(t,i){i=n.defaultValue(i,e.Ellipsoid.WGS84);var r=E(t),s=T._defaultMinTerrainHeight,o=T._defaultMaxTerrainHeight;if(n.defined(r)){var l=r.level+"-"+r.x+"-"+r.y,c=T._terrainHeights[l];n.defined(c)&&(s=c[0],o=c[1]),i.cartographicToCartesian(e.Rectangle.northeast(t,m),g),i.cartographicToCartesian(e.Rectangle.southwest(t,m),f),a.Cartesian3.midpoint(f,g,v);var u=i.scaleToGeodeticSurface(v,w);if(n.defined(u)){var h=a.Cartesian3.distance(v,u);s=Math.min(s,-h)}else s=T._defaultMinTerrainHeight}return{minimumTerrainHeight:s=Math.max(T._defaultMinTerrainHeight,s),maximumTerrainHeight:o}},T.getBoundingSphere=function(a,t){t=n.defaultValue(t,e.Ellipsoid.WGS84);var i=E(a),r=T._defaultMaxTerrainHeight;if(n.defined(i)){var s=i.level+"-"+i.x+"-"+i.y,o=T._terrainHeights[s];n.defined(o)&&(r=o[1])}var l=e.BoundingSphere.fromRectangle3D(a,t,0);return e.BoundingSphere.fromRectangle3D(a,t,r,y),e.BoundingSphere.union(l,y,l)},T._terrainHeightsMaxLevel=6,T._defaultMaxTerrainHeight=9e3,T._defaultMinTerrainHeight=-1e5,T._terrainHeights=void 0,T._initPromise=void 0,Object.defineProperties(T,{initialized:{get:function(){return n.defined(T._terrainHeights)}}});var P=[e.GeographicProjection,d.WebMercatorProjection],b=P.length,O=Math.cos(i.Math3D.toRadians(30)),I=Math.cos(i.Math3D.toRadians(150));function L(a){var t=(a=n.defaultValue(a,n.defaultValue.EMPTY_OBJECT)).positions;this.width=n.defaultValue(a.width,1),this._positions=t,this.granularity=n.defaultValue(a.granularity,9999),this.loop=n.defaultValue(a.loop,!1),this.arcType=n.defaultValue(a.arcType,r.ArcType.GEODESIC),this._ellipsoid=n.defaultValue(a.ellipsoid,e.Ellipsoid.WGS84),this._projectionIndex=0,this._workerName="createGroundPolylineGeometry",this._scene3DOnly=!1}Object.defineProperties(L.prototype,{packedLength:{get:function(){return 1+3*this._positions.length+1+1+1+e.Ellipsoid.packedLength+1+1}}}),L.setProjectionAndEllipsoid=function(e,a){for(var t=0,n=0;n<b;n++)if(a instanceof P[n]){t=n;break}e._projectionIndex=t,e._ellipsoid=a.ellipsoid};var S=new a.Cartesian3,k=new a.Cartesian3,A=new a.Cartesian3;function N(e,t,n,i,r){var s=G(i,e,0,S),o=G(i,e,n,k),l=G(i,t,0,A),c=B(o,s,k),u=B(l,s,A);return a.Cartesian3.cross(u,c,r),a.Cartesian3.normalize(r,r)}var x=new a.Cartographic,R=new a.Cartesian3,H=new a.Cartesian3,V=new a.Cartesian3;function z(e,t,n,i,s,c,u,h,d,p,C){if(0!==s){var g;c===r.ArcType.GEODESIC?g=new o.EllipsoidGeodesic(e,t,u):c===r.ArcType.RHUMB&&(g=new l.EllipsoidRhumbLine(e,t,u));var f=g.surfaceDistance;if(!(f<s))for(var m=N(e,t,i,u,V),v=Math.ceil(f/s),w=f/v,y=w,_=v-1,D=h.length,M=0;M<_;M++){var T=g.interpolateUsingSurfaceDistance(y,x),E=G(u,T,n,R),P=G(u,T,i,H);a.Cartesian3.pack(m,h,D),a.Cartesian3.pack(E,d,D),a.Cartesian3.pack(P,p,D),C.push(T.latitude),C.push(T.longitude),D+=3,y+=w}}}var j=new a.Cartographic;function G(e,t,n,i){return a.Cartographic.clone(t,j),j.height=n,a.Cartographic.toCartesian(j,e,i)}function B(e,t,n){return a.Cartesian3.subtract(e,t,n),a.Cartesian3.normalize(n,n),n}L.pack=function(t,i,r){var s=n.defaultValue(r,0),o=t._positions,l=o.length;i[s++]=l;for(var c=0;c<l;++c){var u=o[c];a.Cartesian3.pack(u,i,s),s+=3}return i[s++]=t.granularity,i[s++]=t.loop?1:0,i[s++]=t.arcType,e.Ellipsoid.pack(t._ellipsoid,i,s),s+=e.Ellipsoid.packedLength,i[s++]=t._projectionIndex,i[s++]=t._scene3DOnly?1:0,i},L.unpack=function(t,i,r){for(var s=n.defaultValue(i,0),o=t[s++],l=new Array(o),c=0;c<o;c++)l[c]=a.Cartesian3.unpack(t,s),s+=3;var u=t[s++],h=1===t[s++],d=t[s++],p=e.Ellipsoid.unpack(t,s);s+=e.Ellipsoid.packedLength;var C=t[s++],g=1===t[s++];if(!n.defined(r)){var f=new L({positions:l,granularity:u,loop:h,arcType:d,ellipsoid:p});return f._projectionIndex=C,f._scene3DOnly=g,f}return r._positions=l,r.granularity=u,r.loop=h,r.arcType=d,r._ellipsoid=p,r._projectionIndex=C,r._scene3DOnly=g,r};var W=new a.Cartesian3,F=new a.Cartesian3,Y=new a.Cartesian3,X=new a.Cartesian3,q=new h.Plane(a.Cartesian3.UNIT_X,0),U=new a.Cartesian3;function Z(e,t,n,r,s){var o=B(n,t,U),l=B(e,t,W),c=B(r,t,F),u=a.Cartesian3.cross(o,l,X);u=a.Cartesian3.normalize(u,u);var d=h.Plane.fromPointNormal(t,u,q),p=h.Plane.getPointDistance(d,r);if(i.Math3D.equalsEpsilon(p,0,i.Math3D.EPSILON7))return a.Cartesian3.clone(u,s),s;s=a.Cartesian3.add(c,l,s),s=a.Cartesian3.normalize(s,s);var C=a.Cartesian3.cross(o,s,Y);return a.Cartesian3.normalize(C,C),a.Cartesian3.cross(C,o,s),a.Cartesian3.normalize(s,s),a.Cartesian3.dot(c,C)<0&&(s=a.Cartesian3.negate(s,s)),s}var Q=h.Plane.fromPointNormal(a.Cartesian3.ZERO,a.Cartesian3.UNIT_Y),J=new a.Cartesian3,K=new a.Cartesian3,$=new a.Cartesian3,ee=new a.Cartesian3,ae=new a.Cartesian3,te=new a.Cartesian3,ne=new a.Cartographic,ie=new a.Cartographic,re=new a.Cartographic;L.createGeometry=function(t){var o,d,p,C,g,f,m=!t._scene3DOnly,v=t.loop,w=t._ellipsoid,y=t.granularity,_=t.arcType,D=new P[t._projectionIndex](w),M=1e3,E=t._positions,b=E.length;2===b&&(v=!1);var I,L,S,k=new l.EllipsoidRhumbLine(void 0,void 0,w),A=[E[0]];for(d=0;d<b-1;d++)p=E[d],C=E[d+1],I=h.IntersectionTests.lineSegmentPlane(p,C,Q,te),!n.defined(I)||a.Cartesian3.equalsEpsilon(I,p,i.Math3D.EPSILON7)||a.Cartesian3.equalsEpsilon(I,C,i.Math3D.EPSILON7)||(t.arcType===r.ArcType.GEODESIC?A.push(a.Cartesian3.clone(I)):t.arcType===r.ArcType.RHUMB&&(S=w.cartesianToCartographic(I,ne).longitude,g=w.cartesianToCartographic(p,ne),f=w.cartesianToCartographic(C,ie),k.setEndPoints(g,f),L=k.findIntersectionWithLongitude(S,re),I=w.cartographicToCartesian(L,te),!n.defined(I)||a.Cartesian3.equalsEpsilon(I,p,i.Math3D.EPSILON7)||a.Cartesian3.equalsEpsilon(I,C,i.Math3D.EPSILON7)||A.push(a.Cartesian3.clone(I)))),A.push(C);v&&(p=E[b-1],C=E[0],I=h.IntersectionTests.lineSegmentPlane(p,C,Q,te),!n.defined(I)||a.Cartesian3.equalsEpsilon(I,p,i.Math3D.EPSILON7)||a.Cartesian3.equalsEpsilon(I,C,i.Math3D.EPSILON7)||(t.arcType===r.ArcType.GEODESIC?A.push(a.Cartesian3.clone(I)):t.arcType===r.ArcType.RHUMB&&(S=w.cartesianToCartographic(I,ne).longitude,g=w.cartesianToCartographic(p,ne),f=w.cartesianToCartographic(C,ie),k.setEndPoints(g,f),L=k.findIntersectionWithLongitude(S,re),I=w.cartographicToCartesian(L,te),!n.defined(I)||a.Cartesian3.equalsEpsilon(I,p,i.Math3D.EPSILON7)||a.Cartesian3.equalsEpsilon(I,C,i.Math3D.EPSILON7)||A.push(a.Cartesian3.clone(I)))));var x=A.length,R=new Array(x);for(d=0;d<x;d++){var H=a.Cartographic.fromCartesian(A[d],w);H.height=0,R[d]=H}if(!((x=(R=r.arrayRemoveDuplicates(R,a.Cartographic.equalsEpsilon)).length)<2)){var V=[],j=[],W=[],F=[],Y=J,X=K,q=$,U=ee,se=ae,oe=R[0],le=R[1];for(Y=G(w,R[x-1],0,Y),U=G(w,le,0,U),X=G(w,oe,0,X),q=G(w,oe,M,q),se=v?Z(Y,X,q,U,se):N(oe,le,M,w,se),a.Cartesian3.pack(se,j,0),a.Cartesian3.pack(X,W,0),a.Cartesian3.pack(q,F,0),V.push(oe.latitude),V.push(oe.longitude),z(oe,le,0,M,y,_,w,j,W,F,V),d=1;d<x-1;++d){Y=a.Cartesian3.clone(X,Y),X=a.Cartesian3.clone(U,X);var ue=R[d];G(w,ue,M,q),G(w,R[d+1],0,U),Z(Y,X,q,U,se),o=j.length,a.Cartesian3.pack(se,j,o),a.Cartesian3.pack(X,W,o),a.Cartesian3.pack(q,F,o),V.push(ue.latitude),V.push(ue.longitude),z(R[d],R[d+1],0,M,y,_,w,j,W,F,V)}var he=R[x-1],de=R[x-2];if(X=G(w,he,0,X),q=G(w,he,M,q),v){var Ce=R[0];se=Z(Y=G(w,de,0,Y),X,q,U=G(w,Ce,0,U),se)}else se=N(de,he,M,w,se);if(o=j.length,a.Cartesian3.pack(se,j,o),a.Cartesian3.pack(X,W,o),a.Cartesian3.pack(q,F,o),V.push(he.latitude),V.push(he.longitude),v){for(z(he,oe,0,M,y,_,w,j,W,F,V),o=j.length,d=0;d<3;++d)j[o+d]=j[d],W[o+d]=W[d],F[o+d]=F[d];V.push(oe.latitude),V.push(oe.longitude)}return function(t,n,r,o,l,h,d){var p,C,g,f,m,v,w=n._ellipsoid,y=r.length/3-1,_=8*y,D=4*_,M=36*y,E=_>65535?new Uint32Array(M):new Uint16Array(M),P=new Float64Array(3*_),b=new Float32Array(D),I=new Float32Array(D),L=new Float32Array(D),S=new Float32Array(D),k=new Float32Array(D);d&&(g=new Float32Array(D),f=new Float32Array(D),m=new Float32Array(D),v=new Float32Array(2*_));var A=h.length/2,N=0,x=ye;x.height=0;var R=_e;R.height=0;var H=De,V=Me;if(d)for(C=0,p=1;p<A;p++)x.latitude=h[C],x.longitude=h[C+1],R.latitude=h[C+2],R.longitude=h[C+3],H=n.project(x,H),V=n.project(R,V),N+=a.Cartesian3.distance(H,V),C+=2;var z=o.length/3;V=a.Cartesian3.unpack(o,0,V);var j,G=0;for(C=3,p=1;p<z;p++)H=a.Cartesian3.clone(V,H),V=a.Cartesian3.unpack(o,C,V),G+=a.Cartesian3.distance(H,V),C+=3;C=3;var W=0,F=0,Y=0,X=0,q=!1,U=a.Cartesian3.unpack(r,0,Ee),Z=a.Cartesian3.unpack(o,0,Me),Q=a.Cartesian3.unpack(l,0,be);if(t){ce(Q,a.Cartesian3.unpack(r,r.length-6,Te),U,Z)&&(Q=a.Cartesian3.negate(Q,Q))}var J=0,K=0,$=0;for(p=0;p<y;p++){var ee,ae,te,ne,ie=a.Cartesian3.clone(U,Te),re=a.Cartesian3.clone(Z,De),se=a.Cartesian3.clone(Q,Pe);if(q&&(se=a.Cartesian3.negate(se,se)),U=a.Cartesian3.unpack(r,C,Ee),Z=a.Cartesian3.unpack(o,C,Me),q=ce(Q=a.Cartesian3.unpack(l,C,be),ie,U,Z),x.latitude=h[W],x.longitude=h[W+1],R.latitude=h[W+2],R.longitude=h[W+3],d){var oe=we(x,R);ee=n.project(x,Ne);var le=B(ae=n.project(R,xe),ee,Xe);le.y=Math.abs(le.y),te=Re,ne=He,0===oe||a.Cartesian3.dot(le,a.Cartesian3.UNIT_Y)>O?(te=pe(n,x,se,ee,Re),ne=pe(n,R,Q,ae,He)):1===oe?(ne=pe(n,R,Q,ae,He),te.x=0,te.y=i.Math3D.sign(x.longitude-Math.abs(R.longitude)),te.z=0):(te=pe(n,x,se,ee,Re),ne.x=0,ne.y=i.Math3D.sign(x.longitude-R.longitude),ne.z=0)}var ue=a.Cartesian3.distance(re,Z),he=c.EncodedCartesian3.fromCartesian(ie,Fe),de=a.Cartesian3.subtract(U,ie,Ve),Ce=a.Cartesian3.normalize(de,Ge),ge=a.Cartesian3.subtract(re,ie,ze);ge=a.Cartesian3.normalize(ge,ge);var me=a.Cartesian3.cross(Ce,ge,Ge);me=a.Cartesian3.normalize(me,me);var $e=a.Cartesian3.cross(ge,se,Be);$e=a.Cartesian3.normalize($e,$e);var ea=a.Cartesian3.subtract(Z,U,je);ea=a.Cartesian3.normalize(ea,ea);var aa=a.Cartesian3.cross(Q,ea,We);aa=a.Cartesian3.normalize(aa,aa);var ta,na,ia,ra=ue/G,sa=J/G,oa=0,la=0,ca=0;if(d){oa=a.Cartesian3.distance(ee,ae),ta=c.EncodedCartesian3.fromCartesian(ee,Ye),na=a.Cartesian3.subtract(ae,ee,Xe);var ua=(ia=a.Cartesian3.normalize(na,qe)).x;ia.x=ia.y,ia.y=-ua,la=oa/N,ca=K/N}for(j=0;j<8;j++){var ha=X+4*j,da=F+2*j,pa=ha+3,Ca=j<4?1:-1,ga=2===j||3===j||6===j||7===j?1:-1;a.Cartesian3.pack(he.high,b,ha),b[pa]=de.x,a.Cartesian3.pack(he.low,I,ha),I[pa]=de.y,a.Cartesian3.pack($e,L,ha),L[pa]=de.z,a.Cartesian3.pack(aa,S,ha),S[pa]=ra*Ca,a.Cartesian3.pack(me,k,ha);var fa=sa*ga;0===fa&&ga<0&&(fa=Number.POSITIVE_INFINITY),k[pa]=fa,d&&(g[ha]=ta.high.x,g[ha+1]=ta.high.y,g[ha+2]=ta.low.x,g[ha+3]=ta.low.y,m[ha]=-te.y,m[ha+1]=te.x,m[ha+2]=ne.y,m[ha+3]=-ne.x,f[ha]=na.x,f[ha+1]=na.y,f[ha+2]=ia.x,f[ha+3]=ia.y,v[da]=la*Ca,0===(fa=ca*ga)&&ga<0&&(fa=Number.POSITIVE_INFINITY),v[da+1]=fa)}var ma=ke,va=Ae,wa=Le,ya=Se,_a=e.Rectangle.fromCartographicArray(Oe,Ie),Da=T.getMinimumMaximumHeights(_a,w),Ma=Da.minimumTerrainHeight,Ta=Da.maximumTerrainHeight;$+=Ma,$+=Ta,fe(ie,re,Ma,Ta,ma,wa),fe(U,Z,Ma,Ta,va,ya);var Ea=a.Cartesian3.multiplyByScalar(me,i.Math3D.EPSILON5,Ue);a.Cartesian3.add(ma,Ea,ma),a.Cartesian3.add(va,Ea,va),a.Cartesian3.add(wa,Ea,wa),a.Cartesian3.add(ya,Ea,ya),ve(ma,va),ve(wa,ya),a.Cartesian3.pack(ma,P,Y),a.Cartesian3.pack(va,P,Y+3),a.Cartesian3.pack(ya,P,Y+6),a.Cartesian3.pack(wa,P,Y+9),Ea=a.Cartesian3.multiplyByScalar(me,-2*i.Math3D.EPSILON5,Ue),a.Cartesian3.add(ma,Ea,ma),a.Cartesian3.add(va,Ea,va),a.Cartesian3.add(wa,Ea,wa),a.Cartesian3.add(ya,Ea,ya),ve(ma,va),ve(wa,ya),a.Cartesian3.pack(ma,P,Y+12),a.Cartesian3.pack(va,P,Y+15),a.Cartesian3.pack(ya,P,Y+18),a.Cartesian3.pack(wa,P,Y+21),W+=2,C+=3,F+=16,Y+=24,X+=32,J+=ue,K+=oa}C=0;var Pa=0;for(p=0;p<y;p++){for(j=0;j<Je;j++)E[C+j]=Qe[j]+Pa;Pa+=8,C+=Je}var ba=Ze;e.BoundingSphere.fromVertices(r,a.Cartesian3.ZERO,3,ba[0]),e.BoundingSphere.fromVertices(o,a.Cartesian3.ZERO,3,ba[1]);var Oa=e.BoundingSphere.fromBoundingSpheres(ba);Oa.radius+=$/(2*y);var Ia={position:new u.GeometryAttribute({componentDatatype:s.ComponentDatatype.DOUBLE,componentsPerAttribute:3,normalize:!1,values:P}),startHiAndForwardOffsetX:Ke(b),startLoAndForwardOffsetY:Ke(I),startNormalAndForwardOffsetZ:Ke(L),endNormalAndTextureCoordinateNormalizationX:Ke(S),rightNormalAndTextureCoordinateNormalizationY:Ke(k)};d&&(Ia.startHiLo2D=Ke(g),Ia.offsetAndRight2D=Ke(f),Ia.startEndNormals2D=Ke(m),Ia.texcoordNormalization2D=new u.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:2,normalize:!1,values:v}));return new u.Geometry({attributes:Ia,indices:E,boundingSphere:Oa})}(v,D,W,F,j,V,m)}};var se=new a.Cartesian3,oe=new e.Matrix3,le=new u.Quaternion;function ce(t,n,r,s){var o=B(r,n,se),l=a.Cartesian3.dot(o,t);if(l>O||l<I){var c=B(s,r,U),h=l<I?i.Math3D.PI_OVER_TWO:-i.Math3D.PI_OVER_TWO,d=u.Quaternion.fromAxisAngle(c,h,le),p=e.Matrix3.fromQuaternion(d,oe);return e.Matrix3.multiplyByVector(p,t,t),!0}return!1}var ue=new a.Cartographic,he=new a.Cartesian3,de=new a.Cartesian3;function pe(e,t,n,r,s){var o=a.Cartographic.toCartesian(t,e._ellipsoid,he),l=a.Cartesian3.add(o,n,de),c=!1,u=e._ellipsoid,h=u.cartesianToCartographic(l,ue);Math.abs(t.longitude-h.longitude)>i.Math3D.PI_OVER_TWO&&(c=!0,l=a.Cartesian3.subtract(o,n,de),h=u.cartesianToCartographic(l,ue)),h.height=0;var d=e.project(h,s);return(s=a.Cartesian3.subtract(d,r,s)).z=0,s=a.Cartesian3.normalize(s,s),c&&a.Cartesian3.negate(s,s),s}var Ce=new a.Cartesian3,ge=new a.Cartesian3;function fe(e,t,n,i,r,s){var o=a.Cartesian3.subtract(t,e,Ce);a.Cartesian3.normalize(o,o);var l=n-0,c=a.Cartesian3.multiplyByScalar(o,l,ge);a.Cartesian3.add(e,c,r);var u=i-1e3;c=a.Cartesian3.multiplyByScalar(o,u,ge),a.Cartesian3.add(t,c,s)}var me=new a.Cartesian3;function ve(e,t){var n=h.Plane.getPointDistance(Q,e),r=h.Plane.getPointDistance(Q,t),s=me;i.Math3D.equalsEpsilon(n,0,i.Math3D.EPSILON2)?(s=B(t,e,s),a.Cartesian3.multiplyByScalar(s,i.Math3D.EPSILON2,s),a.Cartesian3.add(e,s,e)):i.Math3D.equalsEpsilon(r,0,i.Math3D.EPSILON2)&&(s=B(e,t,s),a.Cartesian3.multiplyByScalar(s,i.Math3D.EPSILON2,s),a.Cartesian3.add(t,s,t))}function we(e,a){var t=Math.abs(e.longitude),n=Math.abs(a.longitude);if(i.Math3D.equalsEpsilon(t,i.Math3D.PI,i.Math3D.EPSILON11)){var r=i.Math3D.sign(a.longitude);return e.longitude=r*(t-i.Math3D.EPSILON11),1}if(i.Math3D.equalsEpsilon(n,i.Math3D.PI,i.Math3D.EPSILON11)){var s=i.Math3D.sign(e.longitude);return a.longitude=s*(n-i.Math3D.EPSILON11),2}return 0}var ye=new a.Cartographic,_e=new a.Cartographic,De=new a.Cartesian3,Me=new a.Cartesian3,Te=new a.Cartesian3,Ee=new a.Cartesian3,Pe=new a.Cartesian3,be=new a.Cartesian3,Oe=[ye,_e],Ie=new e.Rectangle,Le=new a.Cartesian3,Se=new a.Cartesian3,ke=new a.Cartesian3,Ae=new a.Cartesian3,Ne=new a.Cartesian3,xe=new a.Cartesian3,Re=new a.Cartesian3,He=new a.Cartesian3,Ve=new a.Cartesian3,ze=new a.Cartesian3,je=new a.Cartesian3,Ge=new a.Cartesian3,Be=new a.Cartesian3,We=new a.Cartesian3,Fe=new c.EncodedCartesian3,Ye=new c.EncodedCartesian3,Xe=new a.Cartesian3,qe=new a.Cartesian3,Ue=new a.Cartesian3,Ze=[new e.BoundingSphere,new e.BoundingSphere],Qe=[0,2,1,0,3,2,0,7,3,0,4,7,0,5,4,0,1,5,5,7,4,5,6,7,5,2,6,5,1,2,3,6,2,3,7,6],Je=Qe.length;function Ke(e){return new u.GeometryAttribute({componentDatatype:s.ComponentDatatype.FLOAT,componentsPerAttribute:4,normalize:!1,values:e})}return L._projectNormal=pe,function(e,a){return T.initialize().then((function(){return n.defined(a)&&(e=L.unpack(e,a)),L.createGeometry(e)}))}}));
