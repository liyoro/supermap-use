define(["exports","./Check-7b2a090c","./when-b60132fc","./Math-31e539c2"],(function(e,n,t,r){"use strict";function a(e,n,r){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0)}a.fromSpherical=function(e,n){t.defined(n)||(n=new a);var r=e.clock,i=e.cone,u=t.defaultValue(e.magnitude,1),o=u*Math.sin(i);return n.x=o*Math.cos(r),n.y=o*Math.sin(r),n.z=u*Math.cos(i),n},a.fromElements=function(e,n,r,i){return t.defined(i)?(i.x=e,i.y=n,i.z=r,i):new a(e,n,r)},a.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n):new a(e.x,e.y,e.z)},a.fromCartesian4=a.clone,a.packedLength=3,a.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.x,n[r++]=e.y,n[r]=e.z,n},a.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new a),r.x=e[n++],r.y=e[n++],r.z=e[n],r},a.packArray=function(e,n){var r=e.length;t.defined(n)?n.length=3*r:n=new Array(3*r);for(var i=0;i<r;++i)a.pack(e[i],n,3*i);return n},a.unpackArray=function(e,n){var r=e.length;t.defined(n)?n.length=r/3:n=new Array(r/3);for(var i=0;i<r;i+=3){var u=i/3;n[u]=a.unpack(e,i,n[u])}return n},a.fromArray=a.unpack,a.maximumComponent=function(e){return Math.max(e.x,e.y,e.z)},a.minimumComponent=function(e){return Math.min(e.x,e.y,e.z)},a.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t},a.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t},a.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z},a.magnitude=function(e){return Math.sqrt(a.magnitudeSquared(e))};var i=new a;a.distance=function(e,n){return a.subtract(e,n,i),a.magnitude(i)},a.distanceSquared=function(e,n){return a.subtract(e,n,i),a.magnitudeSquared(i)},a.normalize=function(e,n){var t=a.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n},a.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z},a.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t},a.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t},a.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t},a.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t},a.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t},a.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t},a.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n},a.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n};var u=new a;a.lerp=function(e,n,t,r){return a.multiplyByScalar(n,t,u),r=a.multiplyByScalar(e,1-t,r),a.add(u,r,r)};var o=new a,d=new a;a.angleBetween=function(e,n){a.normalize(e,o),a.normalize(n,d);var t=a.dot(o,d),r=a.magnitude(a.cross(o,d,o));return Math.atan2(r,t)};var l=new a;a.mostOrthogonalAxis=function(e,n){var t=a.normalize(e,l);return a.abs(t,t),n=t.x<=t.y?t.x<=t.z?a.clone(a.UNIT_X,n):a.clone(a.UNIT_Z,n):t.y<=t.z?a.clone(a.UNIT_Y,n):a.clone(a.UNIT_Z,n)},a.projectVector=function(e,n,t){var r=a.dot(e,n)/a.dot(n,n);return a.multiplyByScalar(n,r,t)},a.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z},a.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]&&e.z===n[t+2]},a.equalsEpsilon=function(e,n,a,i){return e===n||t.defined(e)&&t.defined(n)&&r.Math3D.equalsEpsilon(e.x,n.x,a,i)&&r.Math3D.equalsEpsilon(e.y,n.y,a,i)&&r.Math3D.equalsEpsilon(e.z,n.z,a,i)},a.cross=function(e,n,t){var r=e.x,a=e.y,i=e.z,u=n.x,o=n.y,d=n.z,l=a*d-i*o,f=i*u-r*d,c=r*o-a*u;return t.x=l,t.y=f,t.z=c,t},a.midpoint=function(e,n,t){return t.x=.5*(e.x+n.x),t.y=.5*(e.y+n.y),t.z=.5*(e.z+n.z),t},a.fromDegrees=function(e,n,t,i,u){return e=r.Math3D.toRadians(e),n=r.Math3D.toRadians(n),a.fromRadians(e,n,t,i,u)};var f=new a,c=new a,y=new a(40680631590769,40680631590769,40408299984661.445),s=new a(40680631590769,40680631590769,40680631590769);a.fromRadians=function(e,n,i,u,o){i=t.defaultValue(i,0);var d=t.defined(u)?u.radiiSquared:s;r.Math3D.equalsEpsilon(r.Math3D.Radius,6356752.314245179,r.Math3D.EPSILON10)&&(d=t.defined(u)?u.radiiSquared:y);var l=Math.cos(n);f.x=l*Math.cos(e),f.y=l*Math.sin(e),f.z=Math.sin(n),f=a.normalize(f,f),a.multiplyComponents(d,f,c);var h=Math.sqrt(a.dot(f,c));return c=a.divideByScalar(c,h,c),f=a.multiplyByScalar(f,i,f),t.defined(o)||(o=new a),a.add(c,f,o)},a.fromDegreesArray=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/2:r=new Array(i/2);for(var u=0;u<i;u+=2){var o=e[u],d=e[u+1],l=u/2;r[l]=a.fromDegrees(o,d,0,n,r[l])}return r},a.fromRadiansArray=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/2:r=new Array(i/2);for(var u=0;u<i;u+=2){var o=e[u],d=e[u+1],l=u/2;r[l]=a.fromRadians(o,d,0,n,r[l])}return r},a.fromDegreesArrayHeights=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/3:r=new Array(i/3);for(var u=0;u<i;u+=3){var o=e[u],d=e[u+1],l=e[u+2],f=u/3;r[f]=a.fromDegrees(o,d,l,n,r[f])}return r},a.fromRadiansArrayHeights=function(e,n,r){var i=e.length;t.defined(r)?r.length=i/3:r=new Array(i/3);for(var u=0;u<i;u+=3){var o=e[u],d=e[u+1],l=e[u+2],f=u/3;r[f]=a.fromRadians(o,d,l,n,r[f])}return r},a.ZERO=Object.freeze(new a(0,0,0)),a.UNIT_X=Object.freeze(new a(1,0,0)),a.UNIT_Y=Object.freeze(new a(0,1,0)),a.UNIT_Z=Object.freeze(new a(0,0,1)),a.UNIT_XYZ=Object.freeze(new a(1,1,1)),a.prototype.clone=function(e){return a.clone(this,e)},a.prototype.equals=function(e){return a.equals(this,e)},a.prototype.equalsEpsilon=function(e,n,t){return a.equalsEpsilon(this,e,n,t)},a.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},a.globalOffset=new a(0,0,0);var h=new a,z=new a;function x(e,n,i,u,o){var d=e.x,l=e.y,f=e.z,c=n.x,y=n.y,s=n.z,x=d*d*c*c,m=l*l*y*y,w=f*f*s*s,p=x+m+w,g=Math.sqrt(1/p),M=a.multiplyByScalar(e,g,h);if(p<u)return isFinite(g)?a.clone(M,o):void 0;var v=i.x,q=i.y,b=i.z,D=z;D.x=M.x*v*2,D.y=M.y*q*2,D.z=M.z*b*2;var S,I,E,N,A,R,O,C=(1-g)*a.magnitude(e)/(.5*a.magnitude(D)),T=0;do{T=(S=x*(A=(I=1/(1+(C-=T)*v))*I)+m*(R=(E=1/(1+C*q))*E)+w*(O=(N=1/(1+C*b))*N)-1)/(-2*(x*(A*I)*v+m*(R*E)*q+w*(O*N)*b))}while(Math.abs(S)>r.Math3D.EPSILON12);return t.defined(o)?(o.x=d*I,o.y=l*E,o.z=f*N,o):new a(d*I,l*E,f*N)}function m(e,n,r){this.longitude=t.defaultValue(e,0),this.latitude=t.defaultValue(n,0),this.height=t.defaultValue(r,0)}m.fromRadians=function(e,n,r,a){return r=t.defaultValue(r,0),t.defined(a)?(a.longitude=e,a.latitude=n,a.height=r,a):new m(e,n,r)},m.fromDegrees=function(e,n,t,a){return e=r.Math3D.toRadians(e),n=r.Math3D.toRadians(n),m.fromRadians(e,n,t,a)};var w=new a,p=new a,g=new a,M=new a(1/6378137,1/6378137,1/6356752.314245179),v=new a(1/6378137,1/6378137,1/6378137),q=new a(1/40680631590769,1/40680631590769,1/40408299984661.445),b=new a(1/40680631590769,1/40680631590769,1/40680631590769),D=r.Math3D.EPSILON1;function S(e,n,r,a){this.x=t.defaultValue(e,0),this.y=t.defaultValue(n,0),this.z=t.defaultValue(r,0),this.w=t.defaultValue(a,0)}m.fromCartesian=function(e,n,i){var u=t.defined(n)?n.oneOverRadii:v,o=t.defined(n)?n.oneOverRadiiSquared:b,d=t.defined(n)?n._centerToleranceSquared:D;r.Math3D.equalsEpsilon(r.Math3D.Radius,6356752.314245179,r.Math3D.EPSILON10)&&(u=t.defined(n)?n.oneOverRadii:M,o=t.defined(n)?n.oneOverRadiiSquared:q);var l=x(e,u,o,d,p);if(t.defined(l)){var f=a.multiplyComponents(l,o,w);f=a.normalize(f,f);var c=a.subtract(e,l,g),y=Math.atan2(f.y,f.x),s=Math.asin(f.z),h=r.Math3D.sign(a.dot(c,e))*a.magnitude(c);return t.defined(i)?(i.longitude=y,i.latitude=s,i.height=h,i):new m(y,s,h)}},m.toCartesian=function(e,n,t){return a.fromRadians(e.longitude,e.latitude,e.height,n,t)},m.sphericalDistance=function(e,t,a,i){if(n.Check.defined("longitudeA",e),n.Check.defined("longitudeB",a),n.Check.defined("latitudeA",t),n.Check.defined("latitudeB",i),e===a&&t===i)return 0;var u=r.Math3D.toRadians(t),o=r.Math3D.toRadians(i),d=r.Math3D.toRadians(e),l=r.Math3D.toRadians(a),f=d*d+u*u,c=l*l+o*o,y=(f+c-((d-l)*(d-l)+(u-o)*(u-o)))/(2*Math.sqrt(f)*Math.sqrt(c));return y=r.Math3D.clamp(y,-1,1),Math.acos(y)*r.Math3D.Radius},m.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.longitude=e.longitude,n.latitude=e.latitude,n.height=e.height,n):new m(e.longitude,e.latitude,e.height)},m.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.longitude===n.longitude&&e.latitude===n.latitude&&e.height===n.height},m.equalsEpsilon=function(e,n,r){return e===n||t.defined(e)&&t.defined(n)&&Math.abs(e.longitude-n.longitude)<=r&&Math.abs(e.latitude-n.latitude)<=r&&Math.abs(e.height-n.height)<=r},m.ZERO=Object.freeze(new m(0,0,0)),m.prototype.clone=function(e){return m.clone(this,e)},m.prototype.equals=function(e){return m.equals(this,e)},m.prototype.equalsEpsilon=function(e,n){return m.equalsEpsilon(this,e,n)},m.prototype.toString=function(){return"("+this.longitude+", "+this.latitude+", "+this.height+")"},S.fromElements=function(e,n,r,a,i){return t.defined(i)?(i.x=e,i.y=n,i.z=r,i.w=a,i):new S(e,n,r,a)},S.fromColor=function(e,n){return t.defined(n)?(n.x=e.red,n.y=e.green,n.z=e.blue,n.w=e.alpha,n):new S(e.red,e.green,e.blue,e.alpha)},S.clone=function(e,n){if(t.defined(e))return t.defined(n)?(n.x=e.x,n.y=e.y,n.z=e.z,n.w=e.w,n):new S(e.x,e.y,e.z,e.w)},S.packedLength=4,S.pack=function(e,n,r){return r=t.defaultValue(r,0),n[r++]=e.x,n[r++]=e.y,n[r++]=e.z,n[r]=e.w,n},S.unpack=function(e,n,r){return n=t.defaultValue(n,0),t.defined(r)||(r=new S),r.x=e[n++],r.y=e[n++],r.z=e[n++],r.w=e[n],r},S.packArray=function(e,r){var a=e.length,i=4*a;if(t.defined(r)){if(!Array.isArray(r)&&r.length!==i)throw new n.DeveloperError("If result is a typed array, it must have exactly array.length * 4 elements");r.length!==i&&(r.length=i)}else r=new Array(i);for(var u=0;u<a;++u)S.pack(e[u],r,4*u);return r},S.unpackArray=function(e,n){var r=e.length;t.defined(n)?n.length=r/4:n=new Array(r/4);for(var a=0;a<r;a+=4){var i=a/4;n[i]=S.unpack(e,a,n[i])}return n},S.fromArray=S.unpack,S.maximumComponent=function(e){return Math.max(e.x,e.y,e.z,e.w)},S.minimumComponent=function(e){return Math.min(e.x,e.y,e.z,e.w)},S.minimumByComponent=function(e,n,t){return t.x=Math.min(e.x,n.x),t.y=Math.min(e.y,n.y),t.z=Math.min(e.z,n.z),t.w=Math.min(e.w,n.w),t},S.maximumByComponent=function(e,n,t){return t.x=Math.max(e.x,n.x),t.y=Math.max(e.y,n.y),t.z=Math.max(e.z,n.z),t.w=Math.max(e.w,n.w),t},S.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y+e.z*e.z+e.w*e.w},S.magnitude=function(e){return Math.sqrt(S.magnitudeSquared(e))};var I=new S;S.distance=function(e,n){return S.subtract(e,n,I),S.magnitude(I)},S.distanceSquared=function(e,n){return S.subtract(e,n,I),S.magnitudeSquared(I)},S.normalize=function(e,n){var t=S.magnitude(e);return n.x=e.x/t,n.y=e.y/t,n.z=e.z/t,n.w=e.w/t,n},S.dot=function(e,n){return e.x*n.x+e.y*n.y+e.z*n.z+e.w*n.w},S.multiplyComponents=function(e,n,t){return t.x=e.x*n.x,t.y=e.y*n.y,t.z=e.z*n.z,t.w=e.w*n.w,t},S.divideComponents=function(e,n,t){return t.x=e.x/n.x,t.y=e.y/n.y,t.z=e.z/n.z,t.w=e.w/n.w,t},S.add=function(e,n,t){return t.x=e.x+n.x,t.y=e.y+n.y,t.z=e.z+n.z,t.w=e.w+n.w,t},S.subtract=function(e,n,t){return t.x=e.x-n.x,t.y=e.y-n.y,t.z=e.z-n.z,t.w=e.w-n.w,t},S.multiplyByScalar=function(e,n,t){return t.x=e.x*n,t.y=e.y*n,t.z=e.z*n,t.w=e.w*n,t},S.divideByScalar=function(e,n,t){return t.x=e.x/n,t.y=e.y/n,t.z=e.z/n,t.w=e.w/n,t},S.negate=function(e,n){return n.x=-e.x,n.y=-e.y,n.z=-e.z,n.w=-e.w,n},S.abs=function(e,n){return n.x=Math.abs(e.x),n.y=Math.abs(e.y),n.z=Math.abs(e.z),n.w=Math.abs(e.w),n};var E=new S;S.lerp=function(e,n,t,r){return S.multiplyByScalar(n,t,E),r=S.multiplyByScalar(e,1-t,r),S.add(E,r,r)};var N=new S;S.mostOrthogonalAxis=function(e,n){var t=S.normalize(e,N);return S.abs(t,t),n=t.x<=t.y?t.x<=t.z?t.x<=t.w?S.clone(S.UNIT_X,n):S.clone(S.UNIT_W,n):t.z<=t.w?S.clone(S.UNIT_Z,n):S.clone(S.UNIT_W,n):t.y<=t.z?t.y<=t.w?S.clone(S.UNIT_Y,n):S.clone(S.UNIT_W,n):t.z<=t.w?S.clone(S.UNIT_Z,n):S.clone(S.UNIT_W,n)},S.equals=function(e,n){return e===n||t.defined(e)&&t.defined(n)&&e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w},S.equalsArray=function(e,n,t){return e.x===n[t]&&e.y===n[t+1]&&e.z===n[t+2]&&e.w===n[t+3]},S.equalsEpsilon=function(e,n,a,i){return e===n||t.defined(e)&&t.defined(n)&&r.Math3D.equalsEpsilon(e.x,n.x,a,i)&&r.Math3D.equalsEpsilon(e.y,n.y,a,i)&&r.Math3D.equalsEpsilon(e.z,n.z,a,i)&&r.Math3D.equalsEpsilon(e.w,n.w,a,i)},S.ZERO=Object.freeze(new S(0,0,0,0)),S.UNIT_X=Object.freeze(new S(1,0,0,0)),S.UNIT_Y=Object.freeze(new S(0,1,0,0)),S.UNIT_Z=Object.freeze(new S(0,0,1,0)),S.UNIT_W=Object.freeze(new S(0,0,0,1)),S.prototype.clone=function(e){return S.clone(this,e)},S.prototype.equals=function(e){return S.equals(this,e)},S.prototype.equalsEpsilon=function(e,n,t){return S.equalsEpsilon(this,e,n,t)},S.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+", "+this.w+")"};var A=new Float32Array(1),R=256;S.packFloat=function(e,n){if(t.defined(n)||(n=new S),A[0]=e,0===(e=A[0]))return S.clone(S.ZERO,n);var a,i=e<0?1:0;isFinite(e)?(e=Math.abs(e),a=Math.floor(r.Math3D.logBase(e,10))+1,e/=Math.pow(10,a)):(e=.1,a=38);var u=e*R;return n.x=Math.floor(u),u=(u-n.x)*R,n.y=Math.floor(u),u=(u-n.y)*R,n.z=Math.floor(u),n.w=2*(a+38)+i,n},S.unpackFloat=function(e){var n=e.w/2,t=Math.floor(n),r=2*(n-t);if(r=-(r=2*r-1),(t-=38)>=38)return r<0?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY;var a=r*e.x*.00390625;return a+=r*e.y*152587890625e-16,(a+=r*e.z*5.960464477539063e-8)*Math.pow(10,t)},e.Cartesian3=a,e.Cartesian4=S,e.Cartographic=m,e.scaleToGeodeticSurface=x}));
